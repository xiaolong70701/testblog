{
  "hash": "734a58904510862c4c960d5cd536058f",
  "result": {
    "markdown": "---\ntitle: \"Introdu√ß√£o ao GitHub Actions para quem programa em R\"\nsubtitle: \"S√©rie GitHub Actions - 1 - Neste post, apresentarei brevemente o GitHub Actions e mostrarei como voc√™ pode come√ßar a usar o GitHub Actions com R.\"\nauthor: \"Beatriz Milz\"\ndate: \"2022-06-30\"\ncategories: [\"Git\", \"GitHub\", \"GitHub Actions\", \"Automations\"]\nimage: \"featured.png\"\ntoc: true\ndraft: false\n---\n\n<a href=\"../en/index.qmd\"> <button type=\"button\" class=\"btn btn-primary\">English</button></a>\n<a href=\"../es/index.qmd\"> <button type=\"button\" class=\"btn btn-primary\">Espa√±ol</button></a>\n<a href=\"../pt/index.qmd\"> <button type=\"button\" class=\"btn btn-primary\">Portugu√™s</button></a>\n\n\nOi!\nEste √© o primeiro post da s√©rie \"GitHub Actions\".\nEsta s√©rie de posts √© um material complementar para minha palestra rel√¢mpago na [RStudio Conference - rstudio::conf 2022](https://www.rstudio.com/conference/).\n\n[![](images/talk.png){fig-align=\"center\" width=\"70%\"}](https://rstudioconf2022.sched.com/event/11ia9?iframe=no)\n\nNeste post, **apresentarei brevemente o GitHub Actions e mostrarei como voc√™ pode come√ßar a usar o GitHub Actions com R**.\n\n## O que √© GitHub Actions?\n\n[GitHub Actions](https://github.com/features/actions) √© um recurso do [GitHub](https://github.com/) que nos permite automatizar tarefas com c√≥digo.\nPor exemplo, podemos especificar uma s√©rie de comandos a serem executados quando √© ativado!\n\nPodemos fazer muitas automa√ß√µes diferentes com o GitHub Actions, como:\n\n-   Baixar e salvar um arquivo todos os dias (como `.csv`/`.xlsx`/`.json` ..);\n\n-   Executar um script em R e salvar os resultados em um banco de dados, ou uma Planilha do Google, por exemplo;\n\n-   Execu√ß√£o de rotinas de web scraping;\n\n-   Renderiza√ß√£o de um documento RMarkdown ou Quarto;\n\n-   E assim por diante!\n    üöÄ\n\n## Como usar o GHA em um pacote em R?\n\nO GitHub Actions √© muito usado no desenvolvimento de pacotes para CI/CD.\nPor exemplo, pessoas que desenvolvem pacotes usam GitHub Actions para realizar testes em seu c√≥digo, executar rotinas de checagem, atualizar a documenta√ß√£o e o site do pacote, entre outras coisas.\n\n::: callout-tip\n## O que √© CI/CD no contexto de pacotes em R?\n\nA integra√ß√£o cont√≠nua (Continuous integration - CI) √© uma pr√°tica de desenvolvimento que exige que as pessoas que desenvolvem o pacote integrem regularmente o c√≥digo no reposit√≥rio, ap√≥s o qual verifica√ß√µes e testes automatizados s√£o executados para verificar a integridade do novo c√≥digo.\n\nA entrega cont√≠nua (Continuous delivery - CD) √© uma metodologia de desenvolvimento de software na qual as altera√ß√µes de c√≥digo s√£o verificadas, testadas e liberadas para produ√ß√£o automaticamente.\n**Isso permite que novas vers√µes de pacotes sejam lan√ßadas com frequ√™ncia.**\n:::\n\nO pacote [usethis](https://usethis.r-lib.org/reference/github_actions.html) nos ajuda a configurar GitHub Actions em pacotes R.\n√â essencial saber que, por padr√£o, as Actions criadas usando usethis v√™m do [reposit√≥rio r-lib/actions](https://github.com/r-lib/actions/tree/v2-branch/examples#readme).\nSalve este link; o conte√∫do √© muito relevante!\n\n::: callout-note\n## üèÜ\n\nGostaria de agradecer todo o trabalho feito por quem [contribui com o reposit√≥rio r-lib/actions](https://github.com/r-lib/actions/graphs/contributors).\nüèÜ Este reposit√≥rio foi a fonte mais importante de conte√∫do e c√≥digo sobre GitHub Actions para R para mim.\n\n[![](images/actions-repo.png){fig-align=\"center\" width=\"100%\"}](https://github.com/r-lib/actions/blob/v2-branch/examples/README.md)\n:::\n\nAqui est√£o alguns exemplos de como configurar GH Actions em pacotes:\n\n-   Para realizar checagens (como `devtools::check()` ) em um pacote sempre que houver uma altera√ß√£o no c√≥digo, use:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusethis::use_github_action(\"check-release\")\n```\n:::\n\n\nIsso √© √∫til porque toda vez que ocorre um erro no check, recebemos um e-mail do GitHub ‚ö†Ô∏è.\nAssim, sabemos que algo est√° quebrando o c√≥digo e podemos corrigi-lo o mais r√°pido poss√≠vel.\n\n-   Para atualizar o site do pacote (como `pkgdown::build_site()`) toda vez que houver uma mudan√ßa no c√≥digo, use:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusethis::use_github_action(\"pkgdown\")\n```\n:::\n\n\nIsso permite que o site e a documenta√ß√£o do pacote estejam sempre atualizados.\nüìå\n\n## Como usar o GHA em um script em R?\n\nJ√° sabemos que podemos fazer automa√ß√µes muito legals em pacotes em R usando GitHub Actions.\nMas a maioria das pessoas que programam em R que conhe√ßo usam scripts R e arquivos RMarkdown no dia-a-dia.\nN√£o encontrei exemplos de uso do GHA com scripts simples (sem a estrutura do pacote) no [reposit√≥rio r-lib/actions](https://github.com/r-lib/actions/blob/v2-branch/examples/%20README.md).\nEnt√£o, para isso, precisamos conhecer como funciona o GHA!\n\nA [documenta√ß√£o do GitHub sobre fluxos de trabalho (workflows)](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions) √© uma excelente fonte para saber mais sobre esse t√≥pico.\n\nPrimeiro, a automatiza√ß√£o feita com GHA √© chamada de **Workflow** (ou fluxo de trabalho em portugu√™s).\nO fluxo de trabalho tem duas partes principais: **Events** (eventos) e **Jobs** (trabalhos).\n\n-   **Events/Eventos** descrevem o que pode iniciar um fluxo de trabalho.\n    Por exemplo, um evento pode ser \"iniciar este fluxo de trabalho todos os dias √†s 9h\" ou \"toda vez que algu√©m fizer um push no reposit√≥rio\" (em outras palavras, quando h√° alguma altera√ß√£o no c√≥digo).\n\n-   **Jobs/Trabalhos** descreve o que o computador deve fazer.\n    Imagine que ele come√ßa sem nenhum software instalado!\n    Portanto, precisamos dizer qual Sistema Operacional (SO) queremos que nosso c√≥digo execute (por exemplo, Ubuntu / Windows / Mac OS).\n    Al√©m disso, precisamos instalar o R e quaisquer pacotes necess√°rios para executar o nosso c√≥digo.\n    Depois disso, podemos adicionar o script que queremos executar em R e salvar os resultados gerados.\n\n## Exemplo\n\nAqui est√° um exemplo de um arquivo de fluxo de trabalho simples.\nO fluxo de trabalho inicia ao pressionar um bot√£o no GitHub (o evento).\nEle instala o R e imprime a mensagem \"Hello R World!\" no console (o trabalho).\n\n``` yml\n# Evento/Event - O que inicia o fluxo de trabalho/workflow?\non:\n  workflow_dispatch:\n\n# Nome do workflow\nname: hello-r-world\n\n# Trabalho/Jobs - O que o computador deve fazer?\njobs:\n  write-message:\n    # Vamos usar o Ubuntu  \n    runs-on: ubuntu-latest \n    steps:\n       # Instalar o R\n      - uses: r-lib/actions/setup-r@v3    \n      - name: print-message   \n        # C√≥digo para executar um comando em R\n        run: Rscript -e 'print(\"Hello R World!\")' \n```\n\n## Vejo voc√™ no pr√≥ximo post!\n\nEssa √© a ideia geral do GitHub Actions.\nNo pr√≥ximo post, escreverei como voc√™ pode criar um GHA que execute um script R e salve o resultado no reposit√≥rio do GitHub.\nAcompanhe!\n\n## Agradecimentos\n\n-   [Daniel Falbel](https://github.com/dfalbel), [Athos Damiani](https://github.com/Athospd) e [Julio Trecenti](https://github.com/jtrecenti): as pessoas que me apresentaram ao GitHub Actions, responderam perguntas e enviaram v√°rios links incr√≠veis.Obrigada!\n\n-   As pessoas que contribuem com o [reposit√≥rio r-lib/actions](https://github.com/r-lib/actions/graphs/contributors): üèÜ Este reposit√≥rio foi a fonte mais significativa de conte√∫do sobre GitHub Actions for R para mim.\n\n-   [Julio Trecenti](https://github.com/jtrecenti): obrigada por revisar o post!\n\n## Refer√™ncias\n\n-   [GitHub Actions](https://github.com/features/actions)\n\n-   [Pacote usethis](https://usethis.r-lib.org/reference/github_actions.html)\n\n-   [Reposit√≥rio r-lib/actions](https://github.com/r-lib/actions/tree/v2-branch/examples#readme)\n\n-   [Documenta√ß√£o do GitHub sobre workflows](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)\n\n## Compartilhe e apoie!\n\nSe voc√™ gosta desse tipo de conte√∫do, considere me apoiar no [GitHub Sponsors](https://github.com/sponsors/beatrizmilz/) ou compartilhar o conte√∫do no Twitter:\n\n<center>\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">I wrote a new blog post about &quot;Introduction to GitHub Actions to R users&quot;!<a href=\"https://t.co/lCBH4vIGa2\">https://t.co/lCBH4vIGa2</a><br><br>This post is complementary material for my lightning talk at the <a href=\"https://twitter.com/rstudio?ref_src=twsrc%5Etfw\">@rstudio</a> conference!<br><br>Feedback is always welcome :)<a href=\"https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw\">#rstats</a> <a href=\"https://twitter.com/hashtag/github?src=hash&amp;ref_src=twsrc%5Etfw\">#github</a> <a href=\"https://twitter.com/hashtag/githubactions?src=hash&amp;ref_src=twsrc%5Etfw\">#githubactions</a> <a href=\"https://twitter.com/hashtag/rstudioconf?src=hash&amp;ref_src=twsrc%5Etfw\">#rstudioconf</a> <a href=\"https://twitter.com/hashtag/rstudioconf2022?src=hash&amp;ref_src=twsrc%5Etfw\">#rstudioconf2022</a></p>&mdash; Beatriz Milz (@BeaMilz) <a href=\"https://twitter.com/BeaMilz/status/1542526491807797248?ref_src=twsrc%5Etfw\">June 30, 2022</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n</center>\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}